{% extends 'base.html' %}
{% block content %}
<div class="container mt-4">
  <div class="card shadow">
    <div class="card-header bg-primary text-white">
      <h4 class="mb-0">{{ product.name }}</h4>
    </div>
    <div class="card-body">
      <p><strong>Category:</strong> {{ product.category.name }}</p>
      <p><strong>Batch #:</strong> {{ product.batch_number }}</p>
      <p><strong>Quantity in Stock:</strong> {{ product.quantity_in_stock }}</p>
      <p><strong>Reorder Level:</strong> {{ product.reorder_level }}</p>
      <p><strong>Unit Price:</strong> ${{ product.unit_price }}</p>
      <p><strong>Expiry Date:</strong> {{ product.expiry_date }}</p>
      <p><strong>Suppliers:</strong>
        <ul>
          {% for supplier in product.suppliers.all %}
            <li><a href="{% url 'inventory:supplier_detail' supplier.pk %}">{{ supplier.name }}</a></li>
          {% endfor %}
        </ul>
      </p>
    </div>
    <div class="card-footer d-flex justify-content-between">
      <a href="{% url 'inventory:product_list' %}" class="btn btn-secondary">Back</a>
      {% if user.role == 'admin' %}
      <form method="post" action="{% url 'inventory:product_delete' product.pk %}">
        {% csrf_token %}
        <button class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this product?');">
          Delete
        </button>
      </form>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
